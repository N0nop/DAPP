{"ast":null,"code":"var _jsxFileName = \"/Users/xionghao/Desktop/2019_Winter/block_chain/reacttest/src/Navi/Navi.js\";\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd';\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport logo from \"../logo.svg\";\nimport './Navi.css';\nimport { Button } from 'antd';\nimport { Input } from 'antd';\nimport { Collapse } from 'antd';\nimport Web3 from \"web3\";\nlet web3 = window.web3;\nconst Header = Layout.Header,\n      Content = Layout.Content,\n      Footer = Layout.Footer,\n      Sider = Layout.Sider;\nconst TextArea = Input.TextArea;\nconst Panel = Collapse.Panel;\nconst text = `\n  A dog is a type of domesticated animal.\n  Known for its loyalty and faithfulness,\n  it can be found as a welcome guest in many households across the world.\n`;\n\nconst onChange = e => {\n  console.log(e);\n};\n\nconst CONTRACT = \"0xd4b7ed93256Df5E6FeA90977C835850Ac5F17873\";\nvar users = [{\n  username: 'Jerry',\n  age: 21,\n  id: \"1\",\n  gender: 'male'\n}, {\n  username: 'Tomy',\n  age: 22,\n  id: \"2\",\n  gender: 'male'\n}, {\n  username: 'Lily',\n  age: 19,\n  id: \"3\",\n  gender: 'female'\n}, {\n  username: 'Lucy',\n  age: 20,\n  id: \"4\",\n  gender: 'female'\n}];\n\nclass SiderDemo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      collapsed: false,\n      mode: 'inline',\n      loading: false,\n      iconLoading: false,\n      showstate: false,\n      length: 10\n    };\n\n    this.getlength = async () => {\n      const payload = web3.eth.abi.encodeFunctionCall({\n        name: \"Length\",\n        type: \"function\",\n        inputs: [{\n          type: 'address',\n          name: '_address'\n        }]\n      }, [web3.eth.defaultAccount]);\n      const res = await web3.eth.call({\n        to: CONTRACT,\n        data: payload\n      });\n      this.setState({\n        length: web3.eth.abi.decodeParameter(\"uint256\", res)\n      });\n      alert(this.state.length);\n    };\n\n    this.toggle = () => {\n      this.setState({\n        collapsed: !this.state.collapsed\n      });\n    };\n\n    this.enterLoading = () => {\n      this.setState({\n        loading: true\n      });\n    };\n\n    this.enterIconLoading = () => {\n      this.setState({\n        iconLoading: true\n      });\n    };\n\n    this.click_1 = data => {\n      this.changeShowState2true(); // alert(this.state.showstate);\n\n      document.getElementById(\"_button\").innerHTML = \"\";\n      document.getElementById(\"_input\").innerHTML = \"\";\n      users.push({\n        username: 'Jerry',\n        age: 21,\n        id: '1',\n        gender: 'male'\n      }); // alert(`${data}`);\n    };\n\n    this.click_2 = () => {\n      document.getElementById(\"_button\").innerHTML = \"\\\n        \\<button type =\\\"button\\\" class=\\\"ant-btn ant-btn-primary\\\" id = \\\"_button\\\" onClick=alert(\\\"1234\\\")>\\\n        \\<span>Click to Upload!</span>\\\n        \\</button>\";\n      document.getElementById(\"_input\").innerHTML = \"\\\n        \\<div id=\\\"_input\\\" separator=\\\"/\\\">\\\n        \\    <span class=\\\"ant-input-affix-wrapper\\\">\\\n        \\        <input placeholder=\\\"fuck2\\\" type=\\\"text\\\" class=\\\"ant-input\\\" value></input>\\\n        \\        <span class=\\\"ant-input-suffix\\\"></span>\\\n        \\   </span>\\\n        \\   <br></br>\\\n        \\   <span class=\\\"ant-input-affix-wrapper ant-input-affix-wrapper-textarea-with-clear-btn\\\">\\\n        \\       <textarea rows=\\\"25\\\" cols=\\\"20\\\" placeholder=\\\"fuck2\\\" class=\\\"ant-input\\\"></textarea>\\\n        \\   </span>\\\n        \\</div>\\\n        \";\n    };\n\n    this.click_3 = () => {\n      document.getElementById(\"_button\").innerHTML = \"\\\n        \\<button type =\\\"button\\\" class=\\\"ant-btn ant-btn-primary\\\" id = \\\"_button\\\" onClick=alert(\\\"1234\\\")>\\\n        \\<span>Click to Find!</span>\\\n        \\</button>\";\n      document.getElementById(\"_input\").innerHTML = \"\\\n        \\<div id=\\\"_input\\\" separator=\\\"/\\\">\\\n        \\    <span class=\\\"ant-input-affix-wrapper\\\">\\\n        \\        <input placeholder=\\\"fuck3\\\" type=\\\"text\\\" class=\\\"ant-input\\\" value></input>\\\n        \\        <span class=\\\"ant-input-suffix\\\"></span>\\\n        \\   </span>\\\n        \\   <br></br>\\\n        \\   <span class=\\\"ant-input-affix-wrapper ant-input-affix-wrapper-textarea-with-clear-btn\\\">\\\n        \\       <textarea rows=\\\"25\\\" cols=\\\"20\\\" placeholder=\\\"fuck3\\\" class=\\\"ant-input\\\"></textarea>\\\n        \\   </span>\\\n        \\</div>\\\n        \";\n    };\n  }\n\n  componentWillMount() {\n    window.addEventListener(\"load\", async () => {\n      if (window.ethereum) {\n        console.log(\"init metamask\", window.ethereum);\n        web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n        web3.eth.getAccounts(function (err, accounts) {\n          web3.eth.defaultAccount = accounts[0]; //   alert(web3.eth.defaultAccount);\n        });\n      } else {\n        console.log(\"inject sdk\");\n        web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:7545\")); // 添加Ganache第一个账户的私钥\n\n        web3.eth.accounts.wallet.add(\"0xcf3fd2ee4a0fffb930a88df1d594ec9f88fafd256fc400665c4aa4209d0b6870\");\n        web3.eth.defaultAccount = \"0x3414d7268DDD6EC483f6EdB78F1369F6732C5D45\";\n      }\n\n      this.getlength();\n    });\n  }\n\n  changeShowState2true() {\n    this.setState(state => {\n      // 重要：在更新的时候读取 `state`，而不是 `this.state`。\n      return {\n        showstate: true\n      };\n    });\n  }\n\n  // clicking My notes triggers\n  render() {\n    const name = this.state.name;\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      trigger: null,\n      collapsible: true,\n      collapsed: this.state.collapsed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(Menu, {\n      theme: \"dark\",\n      mode: \"inline\",\n      defaultSelectedKeys: ['1'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      onClick: () => {\n        this.click_1(\"hello\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"My Notes\")), React.createElement(Menu.Item, {\n      key: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      onClick: () => {\n        this.click_2();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Upload new notes\")), React.createElement(Menu.Item, {\n      key: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"right-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      onClick: () => {\n        this.click_3();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Find notes\")))), React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Header, {\n      style: {\n        background: '#000',\n        padding: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: '#fff',\n        paddingLeft: '2%',\n        fontSize: '1.4em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"trigger\",\n      type: this.state.collapsed ? 'menu-unfold' : 'menu-fold',\n      onClick: this.toggle,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      style: {\n        color: '#fff',\n        paddingLeft: '2%',\n        fontSize: '1.4em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Dapp Note\"), React.createElement(\"span\", {\n      style: {\n        color: '#fff',\n        float: 'right',\n        paddingRight: '1%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }))), React.createElement(Content, {\n      style: {\n        margin: '0 160px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Breadcrumb, {\n      style: {\n        margin: '20px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Here is\"), React.createElement(\"div\", {\n      id: \"shownotes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Collapse, {\n      accordion: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, users.map((user, i) => {\n      return React.createElement(Panel, {\n        header: user.id,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, user.username));\n    }))), React.createElement(\"div\", {\n      id: \"_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        padding: 24,\n        background: '#f0f2f5',\n        minHeight: 780\n      },\n      id: \"_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    })), React.createElement(Footer, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Designed By Martin & Nop\")));\n  }\n\n}\n\nexport default SiderDemo;","map":{"version":3,"sources":["/Users/xionghao/Desktop/2019_Winter/block_chain/reacttest/src/Navi/Navi.js"],"names":["Layout","Menu","Breadcrumb","Icon","React","Component","Button","Input","Collapse","Web3","web3","window","Header","Content","Footer","Sider","TextArea","Panel","text","onChange","e","console","log","CONTRACT","users","username","age","id","gender","SiderDemo","state","collapsed","mode","loading","iconLoading","showstate","length","getlength","payload","eth","abi","encodeFunctionCall","name","type","inputs","defaultAccount","res","call","to","data","setState","decodeParameter","alert","toggle","enterLoading","enterIconLoading","click_1","changeShowState2true","document","getElementById","innerHTML","push","click_2","click_3","componentWillMount","addEventListener","ethereum","enable","getAccounts","err","accounts","providers","HttpProvider","wallet","add","render","background","padding","color","paddingLeft","fontSize","cursor","float","paddingRight","logo","margin","map","user","i","minHeight","textAlign"],"mappings":"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","sourcesContent":["import { Layout, Menu, Breadcrumb, Icon } from 'antd';\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport logo from '../logo.svg';\nimport './Navi.css';\nimport { Button } from 'antd';\nimport { Input } from 'antd';\nimport { Collapse } from 'antd';\nimport Web3 from \"web3\";\n\nlet web3 = window.web3;\nconst { Header, Content, Footer, Sider } = Layout;\nconst { TextArea } = Input;\nconst { Panel } = Collapse;\nconst text = `\n  A dog is a type of domesticated animal.\n  Known for its loyalty and faithfulness,\n  it can be found as a welcome guest in many households across the world.\n`;\nconst onChange = e => {\n    console.log(e);\n};\nconst CONTRACT = \"0xd4b7ed93256Df5E6FeA90977C835850Ac5F17873\";\n\nvar users = [\n    { username: 'Jerry', age: 21, id: \"1\", gender: 'male' },\n    { username: 'Tomy', age: 22, id: \"2\", gender: 'male' },\n    { username: 'Lily', age: 19, id: \"3\", gender: 'female' },\n    { username: 'Lucy', age: 20, id: \"4\", gender: 'female' }\n]\n\n\nclass SiderDemo extends Component {\n    state = {\n        collapsed: false,\n        mode: 'inline',\n        loading: false,\n        iconLoading: false,\n        showstate: false,\n        length: 10\n    };\n\n    componentWillMount() {\n        window.addEventListener(\"load\", async () => {\n          if (window.ethereum) {\n            console.log(\"init metamask\", window.ethereum);\n            web3 = new Web3(window.ethereum);\n            await window.ethereum.enable();\n            web3.eth.getAccounts(function(err, accounts) {\n              web3.eth.defaultAccount = accounts[0];\n            //   alert(web3.eth.defaultAccount);\n            });\n          } else {\n            console.log(\"inject sdk\");\n            web3 = new Web3(\n              new Web3.providers.HttpProvider(\"http://localhost:7545\")\n            );\n            // 添加Ganache第一个账户的私钥\n            web3.eth.accounts.wallet.add(\n              \"0xcf3fd2ee4a0fffb930a88df1d594ec9f88fafd256fc400665c4aa4209d0b6870\"\n            );\n    \n            web3.eth.defaultAccount = \"0x3414d7268DDD6EC483f6EdB78F1369F6732C5D45\";\n          }\n          this.getlength();\n        });\n      }\n\n    getlength = async () => {\n        const payload = web3.eth.abi.encodeFunctionCall(\n            {\n              name: \"Length\",\n              type: \"function\",\n              inputs: [{\n                  type: 'address',\n                  name: '_address'\n              }]\n            },\n            [web3.eth.defaultAccount]\n        );\n\n        const res = await web3.eth.call({\n            to: CONTRACT,\n            data: payload\n        });\n\n        this.setState({\n            length: web3.eth.abi.decodeParameter(\"uint256\", res)\n        });  \n        alert(this.state.length);    \n    };\n\n    \n\n    toggle = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n        });\n    }\n\n    enterLoading = () => {\n        this.setState({ loading: true });\n    };\n\n    enterIconLoading = () => {\n        this.setState({ iconLoading: true });\n    };\n\n    changeShowState2true() {\n        this.setState((state) => {\n          // 重要：在更新的时候读取 `state`，而不是 `this.state`。\n          return {showstate: true}\n        });\n      }\n\n    click_1 = (data) => {\n        this.changeShowState2true();\n        // alert(this.state.showstate);\n        document.getElementById(\"_button\").innerHTML=\"\";\n        document.getElementById(\"_input\").innerHTML=\"\";\n        users.push({ username: 'Jerry', age: 21, id: '1', gender: 'male' })\n        // alert(`${data}`);\n    };\n    click_2 = () => {\n        document.getElementById(\"_button\").innerHTML=\"\\\n        \\<button type =\\\"button\\\" class=\\\"ant-btn ant-btn-primary\\\" id = \\\"_button\\\" onClick=alert(\\\"1234\\\")>\\\n        \\<span>Click to Upload!</span>\\\n        \\</button>\";\n        document.getElementById(\"_input\").innerHTML=\"\\\n        \\<div id=\\\"_input\\\" separator=\\\"/\\\">\\\n        \\    <span class=\\\"ant-input-affix-wrapper\\\">\\\n        \\        <input placeholder=\\\"fuck2\\\" type=\\\"text\\\" class=\\\"ant-input\\\" value></input>\\\n        \\        <span class=\\\"ant-input-suffix\\\"></span>\\\n        \\   </span>\\\n        \\   <br></br>\\\n        \\   <span class=\\\"ant-input-affix-wrapper ant-input-affix-wrapper-textarea-with-clear-btn\\\">\\\n        \\       <textarea rows=\\\"25\\\" cols=\\\"20\\\" placeholder=\\\"fuck2\\\" class=\\\"ant-input\\\"></textarea>\\\n        \\   </span>\\\n        \\</div>\\\n        \";\n    };\n    click_3 = () => {\n        document.getElementById(\"_button\").innerHTML=\"\\\n        \\<button type =\\\"button\\\" class=\\\"ant-btn ant-btn-primary\\\" id = \\\"_button\\\" onClick=alert(\\\"1234\\\")>\\\n        \\<span>Click to Find!</span>\\\n        \\</button>\";\n        document.getElementById(\"_input\").innerHTML=\"\\\n        \\<div id=\\\"_input\\\" separator=\\\"/\\\">\\\n        \\    <span class=\\\"ant-input-affix-wrapper\\\">\\\n        \\        <input placeholder=\\\"fuck3\\\" type=\\\"text\\\" class=\\\"ant-input\\\" value></input>\\\n        \\        <span class=\\\"ant-input-suffix\\\"></span>\\\n        \\   </span>\\\n        \\   <br></br>\\\n        \\   <span class=\\\"ant-input-affix-wrapper ant-input-affix-wrapper-textarea-with-clear-btn\\\">\\\n        \\       <textarea rows=\\\"25\\\" cols=\\\"20\\\" placeholder=\\\"fuck3\\\" class=\\\"ant-input\\\"></textarea>\\\n        \\   </span>\\\n        \\</div>\\\n        \";\n    };\n    // clicking My notes triggers\n    render() {\n        const { name } = this.state;\n        return (\n            <Layout>\n                <Sider\n                    trigger={null}\n                    collapsible\n                    collapsed={this.state.collapsed}\n                >\n            \n                    <div className=\"logo\" >\n                        <span className=\"nav-text\"  ></span>\n                    </div>\n                    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\n                        <Menu.Item key=\"1\">\n                            <Icon type=\"user\" />\n                            <span className=\"nav-text\" onClick={() => {this.click_1(\"hello\")}}>My Notes</span>\n                        </Menu.Item>\n                        <Menu.Item key=\"2\">\n                            <Icon type=\"upload\" />\n                            <span className=\"nav-text\" onClick={() => {this.click_2()}}>Upload new notes</span>\n                        </Menu.Item>\n                        <Menu.Item key=\"3\">\n                            <Icon type=\"right-circle\" />\n                            <span className=\"nav-text\" onClick={() => {this.click_3()}}>Find notes</span>\n                        </Menu.Item>\n                    </Menu>\n                </Sider>\n                <Layout>\n                    <Header style={{ background: '#000', padding: 0 }}>\n                        <span style={{ color: '#fff', paddingLeft: '2%', fontSize: '1.4em' }}>\n                            <Icon\n                                className=\"trigger\"\n                                type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\n                                onClick={this.toggle}\n                                style={{ cursor: 'pointer' }}\n                            />\n                        </span>\n                        <span style={{ color: '#fff', paddingLeft: '2%', fontSize: '1.4em' }}>Dapp Note</span>\n                        <span style={{ color: '#fff', float: 'right', paddingRight: '1%' }}>\n                            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                        </span>\n                        {/* <div onClick={this.click_1(name)}> test react </div> */}\n                    </Header>\n                    \n                    <Content style={{ margin: '0 160px' }} >\n                        <Breadcrumb style={{ margin: '20px 0' }}>\n                            <Breadcrumb.Item>Here is</Breadcrumb.Item>\n                            <div id=\"shownotes\">\n                            <Collapse accordion>\n                                    {users.map((user,i) => {\n                                    return (\n                                        <Panel header={user.id} key={i}>\n                                            <p>{user.username}</p>\n                                        </Panel>\n                                    )\n                                    })}\n    {/* \n                                    <Panel header=\"This is panel header 1\" key=\"1\">\n                                    <p>{text}</p>\n                                    </Panel>\n                                    <Panel header=\"This is panel header 2\" key=\"2\">\n                                    <p>{text}</p>\n                                    </Panel>\n                                    <Panel header=\"This is panel header 3\" key=\"3\">\n                                    <p>{text}</p>\n                                    </Panel> */}\n                                </Collapse>\n                            </div>\n                                \n                            {/* <div>\n                                {users.map((user) => {\n                                return (\n                                    <div>\n                                    <div>姓名：{user.username}</div>\n                                    <div>年龄：{user.age}</div>\n                                    <div>性别：{user.gender}</div>\n                                    <hr />\n                                    </div>\n                                )\n                                })}\n                            </div> */}\n                            <div id = \"_input\">\n                                {/* <Input  placeholder=\"input with clear icon\" allowClear onChange={onChange} />\n                                <br />\n                                <br />\n                                <TextArea rows=\"25\" cols=\"20\" placeholder=\"textarea with clear icon\" allowClear onChange={onChange} /> */}\n                            </div>\n                        </Breadcrumb>\n                        <div style={{ padding: 24, background: '#f0f2f5', minHeight: 780 }} id = \"_button\">\n                            {/* <Button type=\"primary\" loading={this.state.loading} onClick={this.enterLoading}>\n                                Click to Upload!\n                            </Button> */}\n                        </div>\n                    </Content>\n                    <Footer style={{ textAlign: 'center' }}>\n                        Designed By Martin & Nop\n                    </Footer>\n                </Layout>\n            </Layout>\n        );\n    }\n}\n\nexport default SiderDemo;\n\n\n\n"]},"metadata":{},"sourceType":"module"}